(this["webpackJsonprm-shop-v2"]=this["webpackJsonprm-shop-v2"]||[]).push([[0],{57:function(e){e.exports=JSON.parse('{"__schema":{"types":[]}}')},64:function(e,a,t){e.exports=t(77)},77:function(e,a,t){"use strict";t.r(a);var n,r=t(8),c=t(0),i=t.n(c),o=t(27),l=t.n(o),u=t(93),s=t(105),m=t(103),d=t(104),h=t(96),p=t(92),g=t(97),v=t(98),y=t(99),f=t(100),E=t(94),b=t(95),C=t(101),Q=t(19),_=t(25),w=t(26),O=t.n(w),j=(t(20),t(31),t(16));function P(){var e=Object(_.a)(["\n    mutation IncreaseChosenQuantity($input: ChangeProductQuantity!) {\n  increaseChosenQuantity(input: $input) @client\n}\n    "]);return P=function(){return e},e}function N(){var e=Object(_.a)(["\n    query GetShoppingCart {\n  shoppingCart @client {\n    id\n    __typename\n    totalPrice\n    numActionFigures\n  }\n}\n    "]);return N=function(){return e},e}function k(){var e=Object(_.a)(["\n    query GetCharacters {\n  characters {\n    __typename\n    results {\n      id\n      __typename\n      name\n      image\n      species\n      chosenQuantity @client\n      unitPrice @client\n      origin {\n        id\n        __typename\n        name\n      }\n      location {\n        id\n        __typename\n        name\n      }\n    }\n  }\n}\n    "]);return k=function(){return e},e}function x(){var e=Object(_.a)(["\n    query GetCharacter($id: ID!) {\n  getCharacter(id: $id) @client {\n    ...characterData\n  }\n}\n    ",""]);return x=function(){return e},e}function F(){var e=Object(_.a)(["\n    mutation DecreaseChosenQuantity($input: ChangeProductQuantity!) {\n  decreaseChosenQuantity(input: $input) @client\n}\n    "]);return F=function(){return e},e}function I(){var e=Object(_.a)(["\n    fragment characterData on Character {\n  id\n  __typename\n  name\n  unitPrice @client\n  chosenQuantity @client\n}\n    "]);return I=function(){return e},e}!function(e){e.Public="PUBLIC",e.Private="PRIVATE"}(n||(n={}));var q=O()(I()),A=O()(F());O()(x(),q);var S=O()(k());var T=O()(N());var $=O()(P());var D=t(35),L=t(91),R=t(53),K=t.n(R),B=t(54),G=t.n(B);function M(e){var a,t=(a={variables:{input:{id:e.characterId}}},j.b($,a)),n=Object(D.a)(t,1)[0],r=function(e){return j.b(A,e)}(),o=Object(D.a)(r,1)[0],l=Object(c.useCallback)((function(){n()}),[n]),u=Object(c.useCallback)((function(){o({variables:{input:{id:e.characterId}}})}),[e.characterId,o]);return i.a.createElement(d.a,{display:"flex",alignItems:"center"},i.a.createElement(L.a,{color:"primary",disabled:e.chosenQuantity<=0,onClick:u},i.a.createElement(K.a,null)),i.a.createElement(p.a,null,e.chosenQuantity),i.a.createElement(L.a,{color:"primary",onClick:l},i.a.createElement(G.a,null)))}var J=Object(u.a)((function(e){return Object(s.a)({nameTableCell:{display:"flex",alignItems:"center"},characterImg:{maxHeight:"3rem",width:"auto",borderRadius:"50%"},characterName:{paddingLeft:e.spacing(2)}})}));function z(e){var a,t,n,r,c,o,l,u,s,m,h=J();return i.a.createElement(E.a,null,i.a.createElement(b.a,{className:h.nameTableCell},i.a.createElement(d.a,null,i.a.createElement("img",{src:null===(a=e.character)||void 0===a?void 0:a.image,alt:"",className:h.characterImg})),i.a.createElement(p.a,{variant:"body2",className:h.characterName},null===(t=e.character)||void 0===t?void 0:t.name)),i.a.createElement(b.a,null,null===(n=e.character)||void 0===n?void 0:n.species),i.a.createElement(b.a,null,null===(r=e.character)||void 0===r||null===(c=r.origin)||void 0===c?void 0:c.name),i.a.createElement(b.a,null,null===(o=e.character)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.name),i.a.createElement(b.a,null,null===(u=e.character)||void 0===u?void 0:u.unitPrice),i.a.createElement(b.a,null,i.a.createElement(M,{characterId:null===(s=e.character)||void 0===s?void 0:s.id,chosenQuantity:null===(m=e.character)||void 0===m?void 0:m.chosenQuantity})))}function U(e){var a,t=j.c(S,a),n=t.data,r=t.loading,c=t.error;return r?i.a.createElement(h.a,null):c?i.a.createElement(p.a,{variant:"h5"},"Error retrieving data, please reload the page to try again."):n&&n.characters&&n.characters.results?i.a.createElement(g.a,{component:v.a},i.a.createElement(y.a,null,i.a.createElement(f.a,null,i.a.createElement(E.a,null,i.a.createElement(b.a,null,i.a.createElement("strong",null,"Name")),i.a.createElement(b.a,null,i.a.createElement("strong",null,"Species")),i.a.createElement(b.a,null,i.a.createElement("strong",null,"Origin")),i.a.createElement(b.a,null,i.a.createElement("strong",null,"Location")),i.a.createElement(b.a,null,i.a.createElement("strong",null,"Price")),i.a.createElement(b.a,null,i.a.createElement("strong",null,"Quantity")))),i.a.createElement(C.a,null,n.characters.results.map((function(e){return i.a.createElement(z,{character:e,key:null===e||void 0===e?void 0:e.id})}))))):i.a.createElement(p.a,{variant:"h5"},"No data available, please reload the page to try again.")}var W=t(102),H=t(55),V=t.n(H),X=Object(u.a)((function(e){return Object(s.a)({root:{position:"fixed",bottom:e.spacing(4)},quantityText:{position:"absolute",top:"4px",left:"50px",color:"white"},btnElement:{padding:e.spacing(1)}})}));function Y(){var e,a,t=X(),n=j.c(T,e).data;return!n||n.shoppingCart.numActionFigures<=0?i.a.createElement(d.a,{className:t.root}):i.a.createElement(d.a,{className:t.root},i.a.createElement(W.a,{variant:"extended",color:"primary"},i.a.createElement(d.a,null,i.a.createElement(V.a,{className:t.btnElement}),i.a.createElement(p.a,{variant:"caption",className:t.quantityText},n.shoppingCart.numActionFigures)),i.a.createElement(p.a,{className:t.btnElement},(a=n.shoppingCart.totalPrice,"US$ ".concat(a.toFixed(2))))))}var Z=Object(u.a)((function(e){return Object(s.a)({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})}));var ee=t(24),ae=t(14),te=new(t(58).a)({uri:"https://rickandmortyapi.com/graphql"}),ne=t(56),re=Object(ne.a)((function(e){var a=e.graphQLErrors,t=e.networkError,n=e.response,r=e.operation;if(a){var c=!0,i=!1,o=void 0;try{for(var l,u=a[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var s=l.value;console.error("[GraphQL error]: Message: ".concat(s.message,", Location: ").concat(s.locations,", Path: ").concat(s.path),r,n)}}catch(m){i=!0,o=m}finally{try{c||null==u.return||u.return()}finally{if(i)throw o}}}t&&console.error("[Network error]: ".concat(t),r,n)})),ce=t(43),ie=t(57),oe=new ce.a({fragmentMatcher:new ce.b({introspectionQueryResultData:ie}),freezeResults:!0});var le={Query:{getCharacter:function(e,a,t,n){return t.cache.readFragment({fragment:q,id:t.getCacheKey({id:a.id,__typename:"Character"})})}},Mutation:{increaseChosenQuantity:function(e,a,t,n){var r,c,i,o=(r=a.input.id,c=t.cache,i=t.getCacheKey,c.readFragment({fragment:q,id:i({id:r,__typename:"Character"})}));return!!o&&(function(e,a,t){a.writeFragment({fragment:q,id:t({id:e.id,__typename:"Character"}),data:Object(Q.a)({},e,{chosenQuantity:e.chosenQuantity+1})})}(o,t.cache,t.getCacheKey),function(e,a){var t=function(e){var a=e.readQuery({query:T});return null===a||void 0===a?void 0:a.shoppingCart}(a);if(!t)return!1;a.writeQuery({query:T,data:{shoppingCart:Object(Q.a)({},t,{numActionFigures:t.numActionFigures+1,totalPrice:t.totalPrice+e.unitPrice})}})}(o,t.cache),!0)},decreaseChosenQuantity:function(e,a,t,n){var r,c,i,o=(r=a.input.id,c=t.cache,i=t.getCacheKey,c.readFragment({fragment:q,id:i({id:r,__typename:"Character"})}));return!!o&&(function(e,a,t){var n=e.chosenQuantity-1;n<0&&(n=0);a.writeFragment({fragment:q,id:t({id:e.id,__typename:"Character"}),data:Object(Q.a)({},e,{chosenQuantity:n})})}(o,t.cache,t.getCacheKey),function(e,a){var t=function(e){var a=e.readQuery({query:T});return null===a||void 0===a?void 0:a.shoppingCart}(a);if(!t)return!1;var n=t.numActionFigures-1;n<0&&(n=0);var r=t.totalPrice-e.unitPrice;r<0&&(r=0);a.writeQuery({query:T,data:{shoppingCart:Object(Q.a)({},t,{numActionFigures:n,totalPrice:r})}})}(o,t.cache),!0)}},Character:{chosenQuantity:function(){return 0},unitPrice:function(e,a,t,n){switch(e.name){case"Rick Sanchez":case"Morty Smith":return 10;default:return 5}}}},ue=new ee.a({link:ae.a.from([re,te]),connectToDevTools:!1,cache:oe,assumeImmutableResults:!0,resolvers:le});oe.writeData({data:{shoppingCart:{__typename:"ShoppingCart",id:btoa("ShoppingCart:1"),totalPrice:0,numActionFigures:0}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(r.b,{client:ue},i.a.createElement((function(){var e=Z();return i.a.createElement(m.a,{className:e.root},i.a.createElement(d.a,{display:"flex",justifyContent:"center",alignContent:"center"},i.a.createElement(U,null),i.a.createElement(Y,null)))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.981e97fe.chunk.js.map